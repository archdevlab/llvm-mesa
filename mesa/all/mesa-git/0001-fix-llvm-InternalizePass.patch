From d4023eaf909feae578bc7f0a303d582a02bae339 Mon Sep 17 00:00:00 2001
From: blacksky3 <blacksky3@tuta.io>
Date: Wed, 8 Mar 2023 21:56:53 -0500
Subject: [PATCH] fix llvm::InternalizePass

---
 src/gallium/frontends/clover/llvm/invocation.cpp | 3 +++
 1 file changed, 3 insertions(+)

diff --git a/src/gallium/frontends/clover/llvm/invocation.cpp b/src/gallium/frontends/clover/llvm/invocation.cpp
index 7a50fea..fc9b496 100644
--- a/src/gallium/frontends/clover/llvm/invocation.cpp
+++ b/src/gallium/frontends/clover/llvm/invocation.cpp
@@ -33,6 +33,9 @@
 #ifdef HAVE_CLOVER_SPIRV
 #include <LLVMSPIRVLib/LLVMSPIRVLib.h>
 #endif
+#if LLVM_VERSION_MAJOR >= 17
+#include "llvm/Transforms/IPO/Internalize.h"
+#endif
 
 #include <clang/CodeGen/CodeGenAction.h>
 #include <clang/Lex/PreprocessorOptions.h>
-- 
2.39.2

